<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
    <meta name="keywords" content="C++ 那些事, Oier, Algorithm, Blog, sshwy, hwy, yaoyao">
    <meta name="description" content="文常本文介绍一些有关 c++ 的文常
数据类型大小



类型
含义
字节数 /byte




void
无
0


bool
布尔类型
1


(unsigned) char
字符型
1


(unsigned) short
短整型
2">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>C++ 那些事 | Sshwy's Blog</title>
    <link rel="icon" type="image/x-icon, image/vnd.microsoft.icon" href="/favicon.ico">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/font-awesome.min.css">
<link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
<link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
<link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
<link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
<link rel="stylesheet" type="text/css" href="/css/matery.css">
<link rel="stylesheet" type="text/css" href="/css/my.css">
<style type="text/css">
    
</style>



    <script src="/libs/jquery/jquery-2.2.0.min.js"></script>
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>


<body>

<header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.svg" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Sshwy's Blog</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fa fa-navicon"></i></a>
<ul class="right">
    
    <li class="hide-on-med-and-down">
        <a href="/" class="waves-effect waves-light">
            
            <i class="fa fa-home"></i>
            
            <span>首页</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/tags" class="waves-effect waves-light">
            
            <i class="fa fa-tags"></i>
            
            <span>标签</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/categories" class="waves-effect waves-light">
            
            <i class="fa fa-bookmark"></i>
            
            <span>分类</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/archives" class="waves-effect waves-light">
            
            <i class="fa fa-archive"></i>
            
            <span>归档</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/about" class="waves-effect waves-light">
            
            <i class="fa fa-user-circle-o"></i>
            
            <span>关于</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/friends" class="waves-effect waves-light">
            
            <i class="fa fa-address-book"></i>
            
            <span>友情链接</span>
        </a>
    </li>
    
    <li>
        <a href="#searchModal" class="modal-trigger waves-effect waves-light">
            <i id="searchIcon" class="fa fa-search" title="搜索"></i>
        </a>
    </li>
</ul>

<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.svg" class="logo-img circle responsive-img">
        
        <div class="logo-name">Sshwy's Blog</div>
        <div class="logo-desc">
            
            辗转当作浮生妖，流离惊似尘世鬼
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li>
            <a href="/" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-home"></i>
                
                首页
            </a>
        </li>
        
        <li>
            <a href="/tags" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-tags"></i>
                
                标签
            </a>
        </li>
        
        <li>
            <a href="/categories" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-bookmark"></i>
                
                分类
            </a>
        </li>
        
        <li>
            <a href="/archives" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-archive"></i>
                
                归档
            </a>
        </li>
        
        <li>
            <a href="/about" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-user-circle-o"></i>
                
                关于
            </a>
        </li>
        
        <li>
            <a href="/friends" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-address-book"></i>
                
                友情链接
            </a>
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/sshwy" class="waves-effect waves-light" target="_blank">
                <i class="fa fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>



        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }
    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }
    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }
    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }
    .github-corner .octo-arm {
        animation: none;
    }
    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/sshwy" class="github-corner tooltipped hide-on-med-and-down" target="_blank" data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
    </svg>
</a>

        
    </nav>

</header>






<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/22.jpg')">
    <div class="container">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <div class="description center-align post-title">
                        C++ 那些事
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 20px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/快读/" target="_blank">
                                <span class="chip bg-color">快读</span>
                            </a>
                        
                            <a href="/tags/模板/" target="_blank">
                                <span class="chip bg-color">模板</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fa fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/Others/" class="post-category" target="_blank">
                                Others
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                <div class="post-date info-break-policy">
                    <i class="fa fa-calendar-minus-o fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2018-10-01
                </div>

                
				
				
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="文常"><a href="#文常" class="headerlink" title="文常"></a>文常</h1><p>本文介绍一些有关 c++ 的文常</p>
<h2 id="数据类型大小"><a href="#数据类型大小" class="headerlink" title="数据类型大小"></a>数据类型大小</h2><div class="table-container">
<table>
<thead>
<tr>
<th>类型</th>
<th>含义</th>
<th>字节数 /byte</th>
</tr>
</thead>
<tbody>
<tr>
<td>void</td>
<td>无</td>
<td>0</td>
</tr>
<tr>
<td>bool</td>
<td>布尔类型</td>
<td>1</td>
</tr>
<tr>
<td>(unsigned) char</td>
<td>字符型</td>
<td>1</td>
</tr>
<tr>
<td>(unsigned) short</td>
<td>短整型</td>
<td>2</td>
</tr>
<tr>
<td>(unsigned) int/long</td>
<td>整型</td>
<td>4</td>
</tr>
<tr>
<td>float</td>
<td>浮点数</td>
<td>4</td>
</tr>
<tr>
<td>(unsigned) long long</td>
<td>长整型</td>
<td>8</td>
</tr>
<tr>
<td>double</td>
<td>双精度浮点数</td>
<td>8</td>
</tr>
</tbody>
</table>
</div>
<h2 id="运算符优先级"><a href="#运算符优先级" class="headerlink" title="运算符优先级"></a>运算符优先级</h2><p>以下将 C++ 常用运算符的优先级做了列表，从优到低。</p>
<h3 id="I"><a href="#I" class="headerlink" title="I"></a>I</h3><p><strong>从左到右</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>符号</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>::</code></td>
<td>作用域解析</td>
</tr>
</tbody>
</table>
</div>
<h3 id="II"><a href="#II" class="headerlink" title="II"></a>II</h3><p><strong>从左到右</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>符号</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>a++</code>   <code>a--</code></td>
<td>后缀自增与自减</td>
</tr>
<tr>
<td><code>type()</code> <code>type{}</code></td>
<td>函数风格转型</td>
</tr>
<tr>
<td><code>a()</code></td>
<td>函数调用</td>
</tr>
<tr>
<td><code>a[]</code></td>
<td>下标</td>
</tr>
<tr>
<td><code>.</code> <code>-&gt;</code></td>
<td>成员访问</td>
</tr>
</tbody>
</table>
</div>
<h3 id="III"><a href="#III" class="headerlink" title="III"></a>III</h3><p><strong>从右到左</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>符号</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>++a</code> <code>--a</code></td>
<td>前缀自增与自减</td>
</tr>
<tr>
<td><code>+a</code> <code>-a</code></td>
<td>一元加与减</td>
</tr>
<tr>
<td><code>!</code>  <code>~</code></td>
<td>逻辑非和逐位非</td>
</tr>
<tr>
<td><code>(type)</code></td>
<td>C 风格转型</td>
</tr>
<tr>
<td><code>*a</code></td>
<td>间接（解引用）</td>
</tr>
<tr>
<td><code>&amp;a</code></td>
<td>取址</td>
</tr>
<tr>
<td><code>sizeof</code></td>
<td>取大小</td>
</tr>
<tr>
<td><code>new</code> <code>new[]</code></td>
<td>动态内存分配</td>
</tr>
<tr>
<td><code>delete</code> <code>delete[]</code></td>
<td>动态内存分配</td>
</tr>
</tbody>
</table>
</div>
<h3 id="IV"><a href="#IV" class="headerlink" title="IV"></a>IV</h3><p><strong>从左到右</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>符号</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>.*</code> <code>-&gt;*</code></td>
<td>指向成员指针</td>
</tr>
</tbody>
</table>
</div>
<h3 id="V"><a href="#V" class="headerlink" title="V"></a>V</h3><div class="table-container">
<table>
<thead>
<tr>
<th>符号</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>a*b</code> <code>a/b</code> <code>a%b</code></td>
<td>乘法、除法与余数</td>
</tr>
</tbody>
</table>
</div>
<h3 id="VI"><a href="#VI" class="headerlink" title="VI"></a>VI</h3><div class="table-container">
<table>
<thead>
<tr>
<th>符号</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>a+b</code> <code>a-b</code></td>
<td>加法与减法</td>
</tr>
</tbody>
</table>
</div>
<h3 id="VII"><a href="#VII" class="headerlink" title="VII"></a>VII</h3><div class="table-container">
<table>
<thead>
<tr>
<th>符号</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;&lt;</code> <code>&gt;&gt;</code></td>
<td>逐位左移与右移</td>
</tr>
</tbody>
</table>
</div>
<h3 id="VIII"><a href="#VIII" class="headerlink" title="VIII"></a>VIII</h3><div class="table-container">
<table>
<thead>
<tr>
<th>符号</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;</code> <code>&lt;=</code></td>
<td>分别为 &lt; 与 <span class="mjpage"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.808ex" height="2.176ex" style="vertical-align: -0.505ex;" viewBox="0 -719.6 778.5 936.9" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg">
<defs>
<path stroke-width="1" id="E1-MJMAIN-2264" d="M674 636Q682 636 688 630T694 615T687 601Q686 600 417 472L151 346L399 228Q687 92 691 87Q694 81 694 76Q694 58 676 56H670L382 192Q92 329 90 331Q83 336 83 348Q84 359 96 365Q104 369 382 500T665 634Q669 636 674 636ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z"></path>
</defs>
<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)">
 <use xlink:href="#E1-MJMAIN-2264" x="0" y="0"></use>
</g>
</svg></span> 的关系运算符</td>
</tr>
<tr>
<td><code>&gt;</code> <code>&gt;=</code></td>
<td>分别为 &gt; 与 <span class="mjpage"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.808ex" height="2.176ex" style="vertical-align: -0.505ex;" viewBox="0 -719.6 778.5 936.9" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg">
<defs>
<path stroke-width="1" id="E2-MJMAIN-2265" d="M83 616Q83 624 89 630T99 636Q107 636 253 568T543 431T687 361Q694 356 694 346T687 331Q685 329 395 192L107 56H101Q83 58 83 76Q83 77 83 79Q82 86 98 95Q117 105 248 167Q326 204 378 228L626 346L360 472Q291 505 200 548Q112 589 98 597T83 616ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z"></path>
</defs>
<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)">
 <use xlink:href="#E2-MJMAIN-2265" x="0" y="0"></use>
</g>
</svg></span> 的关系运算符</td>
</tr>
</tbody>
</table>
</div>
<h3 id="IX"><a href="#IX" class="headerlink" title="IX"></a>IX</h3><div class="table-container">
<table>
<thead>
<tr>
<th>符号</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>==</code> <code>!=</code></td>
<td>分别为 = 与 <span class="mjpage"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.808ex" height="2.676ex" style="vertical-align: -0.838ex;" viewBox="0 -791.3 778.5 1152.1" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg">
<defs>
<path stroke-width="1" id="E3-MJMAIN-2260" d="M166 -215T159 -215T147 -212T141 -204T139 -197Q139 -190 144 -183L306 133H70Q56 140 56 153Q56 168 72 173H327L406 327H72Q56 332 56 347Q56 360 70 367H426Q597 702 602 707Q605 716 618 716Q625 716 630 712T636 703T638 696Q638 692 471 367H707Q722 359 722 347Q722 336 708 328L451 327L371 173H708Q722 163 722 153Q722 140 707 133H351Q175 -210 170 -212Q166 -215 159 -215Z"></path>
</defs>
<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)">
 <use xlink:href="#E3-MJMAIN-2260" x="0" y="0"></use>
</g>
</svg></span> 的关系运算符</td>
</tr>
</tbody>
</table>
</div>
<h3 id="X"><a href="#X" class="headerlink" title="X"></a>X</h3><div class="table-container">
<table>
<thead>
<tr>
<th>符号</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>a&amp;b</code></td>
<td>逐位与</td>
</tr>
</tbody>
</table>
</div>
<h3 id="XI"><a href="#XI" class="headerlink" title="XI"></a>XI</h3><div class="table-container">
<table>
<thead>
<tr>
<th>符号</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>^</code></td>
<td>逐位异或（排除或）</td>
</tr>
</tbody>
</table>
</div>
<h3 id="XII"><a href="#XII" class="headerlink" title="XII"></a>XII</h3><div class="table-container">
<table>
<thead>
<tr>
<th>符号</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>`</td>
<td>`</td>
<td>逐位或（包含或）</td>
</tr>
</tbody>
</table>
</div>
<h3 id="XIII"><a href="#XIII" class="headerlink" title="XIII"></a>XIII</h3><div class="table-container">
<table>
<thead>
<tr>
<th>符号</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&amp;&amp;</code></td>
<td>逻辑与</td>
</tr>
</tbody>
</table>
</div>
<h3 id="XIV"><a href="#XIV" class="headerlink" title="XIV"></a>XIV</h3><div class="table-container">
<table>
<thead>
<tr>
<th>符号</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>`</td>
<td></td>
<td>`</td>
<td>逻辑或</td>
</tr>
</tbody>
</table>
</div>
<h3 id="XV"><a href="#XV" class="headerlink" title="XV"></a>XV</h3><p> <strong>从右到左</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>符号</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>a?b:c</code></td>
<td>三元条件</td>
</tr>
<tr>
<td><code>throw</code></td>
<td>throw 运算符</td>
</tr>
<tr>
<td><code>=</code></td>
<td>直接赋值（ C++ 类默认提供）</td>
</tr>
<tr>
<td><code>+=</code> <code>-=</code></td>
<td>以和及差复合赋值</td>
</tr>
<tr>
<td><code>*=</code> <code>/=</code> <code>%=</code></td>
<td>以积、商及余数复合赋值</td>
</tr>
<tr>
<td><code>&lt;&lt;=</code> <code>&gt;&gt;=</code></td>
<td>以逐位左移及右移复合赋值</td>
</tr>
<tr>
<td><code>&amp;=</code> <code>^=</code> `</td>
<td>=`</td>
<td>以逐位与、异或及或复合赋值</td>
</tr>
</tbody>
</table>
</div>
<h3 id="XVI"><a href="#XVI" class="headerlink" title="XVI"></a>XVI</h3><p><strong>从左到右</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>符号</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>,</code></td>
<td>逗号</td>
</tr>
</tbody>
</table>
</div>
<h1 id="真-·-快速读入-fread"><a href="#真-·-快速读入-fread" class="headerlink" title="真 · 快速读入 | fread"></a>真 · 快速读入 | fread</h1><p>C++ 程序除了算法的高效，数据读入的高效也是十分重要的。在面对大数据流时（尤其指 10^6 以上的数字），高效的读入能节省很多的时间。</p>
<h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2><p>先来看知乎大佬翻译源代码为人类语言的 <code>getchar()</code>：</p>
<pre class=" language-lang-cpp"><code class="language-lang-cpp">作者：Pallad
链接：https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>zhihu<span class="token punctuation">.</span>com<span class="token operator">/</span>question<span class="token operator">/</span><span class="token number">39909689</span><span class="token operator">/</span>answer<span class="token operator">/</span><span class="token number">88523074</span>
来源：知乎
</code></pre>
<pre class=" language-lang-cpp"><code class="language-lang-cpp"><span class="token keyword">int</span> 缓存初始化为空<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 缓存不会被清空，除非 main() 执行完.</span>
<span class="token keyword">char</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span> 缓存是空的<span class="token punctuation">)</span><span class="token punctuation">{</span>
        屏幕上跳出光标并且开始监听输入<span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>回车键被按下<span class="token punctuation">)</span><span class="token punctuation">{</span> 系统 <span class="token punctuation">(</span>不是 getchar 函数<span class="token punctuation">)</span> 命令光标跳至新行<span class="token punctuation">;</span>
            将所有输入的字符末尾加上 <span class="token string">'\n'</span> 并存入缓存<span class="token punctuation">;</span>
            读取缓存的第一个字符到 temp<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 即使第一个字符是 '\n'</span>
            将缓存左移一个字符<span class="token punctuation">;</span>
            <span class="token keyword">return</span> temp<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 即使 temp 是 '\n'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        读取缓存的第一个字符到 temp<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 即使第一个字符是 '\n'</span>
        将缓存左移一个字符<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> temp<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 即使 temp 是 '\n'</span>
<span class="token punctuation">}</span>
</code></pre>
<p>相比之下，<code>scanf()</code> 会涉及到将字符放回缓冲流，处理格式字符，判断文件尾等操作，运行时自然速度不那么快。</p>
<h2 id="模板"><a href="#模板" class="headerlink" title="模板"></a>模板</h2><p>快读绝大多数时候用于读数字。<br>利用 getchar 读取无符号 int：</p>
<pre class=" language-lang-cpp"><code class="language-lang-cpp"><span class="token keyword">int</span> <span class="token function">rd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> res<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">char</span> c<span class="token operator">=</span><span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isdigit</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span>c<span class="token operator">=</span><span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token function">isdigit</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span>res<span class="token operator">=</span>res<span class="token operator">*</span><span class="token number">10</span><span class="token operator">+</span>c<span class="token operator">-</span><span class="token string">'0'</span><span class="token punctuation">,</span>c<span class="token operator">=</span><span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> res<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>这里的 <code>isdigit()</code> 判断是否为数字，比你直接写 <code>if</code> 判断要快 <a href="https://www.zhihu.com/question/49272859" target="_blank" rel="noopener"> 见知乎 - 常优</a><br><strong>其他快读在此模板上加判断即可，不赘述。</strong></p>
<h2 id="真-·-快速读入"><a href="#真-·-快速读入" class="headerlink" title="真 · 快速读入"></a>真 · 快速读入</h2><h3 id="fread"><a href="#fread" class="headerlink" title="fread()"></a>fread()</h3><p>fread() 的声明如下<br><code>size_t fread(void *ptr, size_t size, size_t nmemb, FILE *stream)</code></p>
<ul>
<li><code>void *ptr</code> ：指向内存块的指针（比如字符串的名字）</li>
<li><code>size_t size</code> ：内存块中单个元素的大小（单位为字节）</li>
<li><code>size_t nmemb</code> ：读取次数（内存块中的元素数）</li>
<li><code>FILE *stream</code> ：指向 FILE 对象的指针</li>
<li><code>size_t</code> : 它是一种能够以字节为单位表示任何对象大小的类型：size_t 是 sizeof 运算符返回的类型，在标准库中广泛用于表示大小和计数。</li>
<li><code>fread()</code> 返回成功读取的元素总数。</li>
</ul>
<h3 id="应用-fread-写快读"><a href="#应用-fread-写快读" class="headerlink" title="应用 fread 写快读"></a>应用 fread 写快读</h3><p>使用 <code>fread()</code> 代替 <code>getchar</code>：</p>
<pre class=" language-lang-cpp"><code class="language-lang-cpp"><span class="token keyword">char</span> <span class="token function">nc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">// 据传为 Manchery 大神所作</span>
    <span class="token keyword">static</span> <span class="token keyword">char</span> buf<span class="token punctuation">[</span><span class="token number">100000</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token operator">*</span>p1<span class="token operator">=</span>buf<span class="token punctuation">,</span><span class="token operator">*</span>p2<span class="token operator">=</span>buf<span class="token punctuation">;</span>
    <span class="token keyword">return</span> p1<span class="token operator">==</span>p2<span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>p2<span class="token operator">=</span><span class="token punctuation">(</span>p1<span class="token operator">=</span>buf<span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">fread</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">100000</span><span class="token punctuation">,</span><span class="token constant">stdin</span><span class="token punctuation">)</span><span class="token punctuation">,</span>p1<span class="token operator">==</span>p2<span class="token punctuation">)</span><span class="token operator">?</span><span class="token constant">EOF</span><span class="token operator">:</span><span class="token operator">*</span>p1<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<ul>
<li>不得不说，这种压行代码是非常玄学的</li>
<li><code>static</code> 表示静态变量，作用域在函数 <code>nc()</code> 里，存活时间为程序运行时间。</li>
<li><code>buf</code> 为数组的首地址，为其分配 100000 字节的空间；p1,p2 为指向字符的指针。</li>
<li>至于这一行 <code>return</code> 的操作分解如下：<ul>
<li>若 <code>p1==p2</code> 为真，则计算 <code>(p2=(p1=buf)+fread(buf,1,100000,stdin),p1==p2)</code> 的值：<ul>
<li>赋值表达式的值为其本身，所以 <code>(p1=buf)</code> 的值为 buf；</li>
<li>用 <code>fread</code> 从标准读入流读取了以 1 字节为单个元素大小的 100000 个元素并存储到 buf 数组中，<code>fread()</code> 返回了读取字符的总数，加上 buf，即为读取的最后一个字符的后一位的地址。因此 <code>p2</code> 是 <code>p1</code> 遍历数组的边界。</li>
<li>逗号表达式的值是以逗号分隔的列表中的最后一个表达式的值，因此经过上面的读取后，整个表达式的值仍为 <code>p1==p2</code> 的值，当然这时的 <code>p1</code> <code>p2</code> 是读取后的 <code>p1</code> <code>p2</code>，如果仍然相等，说明没有字符了，返回 <code>EOF</code></li>
</ul>
</li>
<li>若 <code>p1==p2</code> 为假，则将不判断逻辑与（&amp;&amp;）后面的表达式，直接返回三目运算符最后一目的表达式，即 p1 指向的字符，然后 p1 指针后移一位。</li>
</ul>
</li>
</ul>
<p>因此，上述代码的正常版是这样的：</p>
<pre class=" language-lang-cpp"><code class="language-lang-cpp"><span class="token keyword">char</span> <span class="token function">nc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">static</span> <span class="token keyword">char</span> buf<span class="token punctuation">[</span><span class="token number">100000</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token operator">*</span>p1<span class="token operator">=</span>buf<span class="token punctuation">,</span><span class="token operator">*</span>p2<span class="token operator">=</span>buf<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>p1<span class="token operator">==</span>p2<span class="token punctuation">)</span>retrn <span class="token operator">*</span>p1<span class="token operator">++</span><span class="token punctuation">;</span>
    p1<span class="token operator">=</span>buf<span class="token punctuation">;</span>
    p2<span class="token operator">=</span>buf<span class="token operator">+</span><span class="token function">fread</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">100000</span><span class="token punctuation">,</span><span class="token constant">stdin</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>p1<span class="token operator">==</span>p2<span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token constant">EOF</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> <span class="token keyword">return</span> <span class="token operator">*</span>p1<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>利用这个函数代替 getchar，再来读入，效果显著。<br>当然，上述代码每次将 100000 个字符读到 <code>buf</code> 里面，显然不能再用 <code>scanf</code> 或 <code>cin</code> 了，因为都读到 <code>buf</code> 里面去了。不过，速度感人。</p>
<h3 id="一个栗子"><a href="#一个栗子" class="headerlink" title="一个栗子"></a>一个栗子</h3><ul>
<li><p>BZOJ4195，用 <code>scanf()</code> 读入：<br><img src="https://www.z4a.net/images/2018/07/31/TIM20180731154526.png" alt="TIM20180731154526.png"></p>
</li>
<li><p>用 <code>getchar()</code> 快读：<br><img src="https://www.z4a.net/images/2018/07/31/TIM20180731154559.png" alt="TIM20180731154559.png"></p>
</li>
<li><p>用 <code>nc()</code> 代替 <code>getchar()</code>：<br><img src="https://www.z4a.net/images/2018/07/31/TIM20180731154613.png" alt="TIM20180731154613.png"></p>
</li>
</ul>
<p><strong>总时间减少将近一半！</strong></p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>虽然快读的优化显著，但并不用每次都快读。读入的数据少，就不需要，否则就是增加代码长度，很累赘。读入的数据多，用快读，才能有效果。</p>
<p>任何优化，都要优化在有用的地方。</p>
<h1 id="C-输入输出格式控制符"><a href="#C-输入输出格式控制符" class="headerlink" title="C++ 输入输出格式控制符"></a>C++ 输入输出格式控制符</h1><h2 id="printf"><a href="#printf" class="headerlink" title="printf"></a>printf</h2><p><code>% [flags] [width] [.precision] [length] specifier</code></p>
<h3 id="起始字符"><a href="#起始字符" class="headerlink" title="起始字符 %"></a>起始字符 <code>%</code><a id="more"></a></h3><p>表示格式控制的开始</p>
<h3 id="类型控制-specifier"><a href="#类型控制-specifier" class="headerlink" title="类型控制 specifier"></a>类型控制 <code>specifier</code></h3><p><code>specifier</code> 控制输出对象的类型.<br><strong>常用：</strong></p>
<ul>
<li><strong><code>d</code>| 整型</strong></li>
<li><strong><code>f</code>| 浮点数</strong></li>
<li><strong><code>s</code>| 字符串</strong></li>
<li><strong><code>%</code>| 输出一个 <code>%</code>.</strong></li>
</ul>
<p>不常用：</p>
<ul>
<li><code>o</code>| 八进制整数</li>
<li><code>x</code>| 十六进制整数</li>
<li><code>e</code>| 科学计数法输出</li>
<li><code>g</code>| 浮点数宽度最短输出</li>
<li><code>p</code>| 指针地址</li>
<li><code>n</code>| 无输出，它会将目前输出的字符数量存储到参数列表中对应的变量中（类型为<strong>signed int* </strong>）</li>
</ul>
<h3 id="前置标记-flag"><a href="#前置标记-flag" class="headerlink" title="前置标记 [flag]"></a>前置标记 <code>[flag]</code></h3><ul>
<li><code>-</code>| 在域宽中左对齐。没有的话默认右对齐。</li>
<li><code>+</code>| 强制在数字前加符号（包括正数）</li>
<li><code>0</code>| 在域宽中剩余部分补 0，没有的话默认补空格。</li>
</ul>
<h3 id="域宽-width"><a href="#域宽-width" class="headerlink" title="域宽 [width]"></a>域宽 <code>[width]</code></h3><ul>
<li><code>(number)</code>| 指定最小域宽，如果宽度不足指定数，则补齐，如果超过指定数，照常输出。</li>
<li><code>*</code>| 不定域宽，须在参数列表中指定对应的整型变量。</li>
</ul>
<h3 id="精度控制-precision"><a href="#精度控制-precision" class="headerlink" title="精度控制 [.precision]"></a>精度控制 <code>[.precision]</code></h3><ul>
<li><code>.number</code>| 指定精度<ul>
<li><code>d</code> <code>x</code> <code>o</code>| 指定最小长度，不足的补前导 0；超过的照常输出</li>
<li><code>f</code> <code>lf</code> <code>Lf</code>| 控制小数位数</li>
<li><code>s</code>| 控制字符串输出的最大字符数</li>
<li>如果指定的句点没有显式的精度值，则假定为 0</li>
</ul>
</li>
<li><code>.*</code>| 不定精度，须在参数列表中指定对应的整型变量。用法同上。</li>
</ul>
<h3 id="长度-length"><a href="#长度-length" class="headerlink" title="长度 [length]"></a>长度 <code>[length]</code></h3><p>指定数据类型的长度<br><img src="https://www.z4a.net/images/2018/07/29/TIM20180729121830.png" alt="TIM20180729121830.png"></p>
<h3 id="典例"><a href="#典例" class="headerlink" title="典例"></a>典例</h3><p><code>%.5lf</code>| 对象类型为 double, 且输出五位小数<br><code>%-+5.4d</code>| 左对齐，加符号，域宽为 5，数字部分长度为 4（补前导 0），整型。<br><code>%s%n</code>| 输出字符串，<code>%n</code> 将返回已输出的字符数，这里指字符串长度。</p>
<p><a href="http://www.cplusplus.com/reference/cstdio/printf/#compatibility" target="_blank" rel="noopener">详见 C++Reference</a></p>
<h2 id="scanf"><a href="#scanf" class="headerlink" title="scanf"></a>scanf</h2><p><code>%[*][width][length]specifier</code></p>
<ul>
<li>空白字符：该函数将读取并忽略在下一个非空白字符之前遇到的任何空白字符（空白字符包括空格，换行符和制表符）。格式字符串中的单个空格验证从流中提取的任何数量的空白字符（包括无）。 </li>
<li>非空白字符，格式说明符（％）除外：任何不是空格字符（空格，换行符或制表符）或格式说明符的一部分的字符都会导致该函数读取下一个字符从流中，将其与此非空白字符进行比较，如果匹配，则将其丢弃，并且函数将继续使用格式的下一个字符。如果字符不匹配，则函数失败，返回并保留流的后续字符未读。 </li>
<li>格式说明符：由初始百分号（％）组成的序列表示格式说明符，用于指定要从流中检索并存储到其他参数指向的位置的数据的类型和格式。</li>
</ul>
<h3 id="类型控制-specifier-1"><a href="#类型控制-specifier-1" class="headerlink" title="类型控制 specifier"></a>类型控制 <code>specifier</code></h3><p><code>specifier</code> 控制输出对象的类型.<br><strong>常用：</strong></p>
<ul>
<li><strong><code>d</code>| 整型</strong></li>
<li><strong><code>f</code>| 浮点数</strong></li>
<li><strong><code>s</code>| 字符串</strong></li>
<li><strong><code>%</code>| 匹配一个 <code>%</code>.</strong></li>
</ul>
<p>不常用：</p>
<ul>
<li><code>i</code>| 任意整型（8，10，16 进制）</li>
<li><code>o</code>| 八进制整数</li>
<li><code>x</code>| 十六进制整数</li>
<li><code>p</code>| 指针地址</li>
<li><code>n</code>| 无输入，它会将目前输入的字符数量存储到参数列表中对应的变量中（类型为<strong>signed int* </strong>）</li>
<li><code>[characters]</code>| 括号之间指定的任意数量的字符（对于 <code>[</code> <code>]</code> <code>-</code> 的字符应紧挨在左括号后面）</li>
<li><code>[^characters]</code>|<strong>非</strong>括号之间指定的任意数量的字符（对于 <code>[</code> <code>]</code> <code>-</code> 的字符应紧挨在 <code>^</code> 后面）</li>
</ul>
<h3 id="忽略读取"><a href="#忽略读取" class="headerlink" title="忽略读取 [*]"></a>忽略读取 <code>[*]</code></h3><p>将格式字符串所读取到的东西舍去（不用匹配参数列表）</p>
<h3 id="域宽-width-1"><a href="#域宽-width-1" class="headerlink" title="域宽 [width]"></a>域宽 <code>[width]</code></h3><p>读取的最大宽度。</p>
<h3 id="长度-length-1"><a href="#长度-length-1" class="headerlink" title="长度 [length]"></a>长度 <code>[length]</code></h3><p>指定数据类型的长度。<br><img src="https://www.z4a.net/images/2018/07/29/TIM20180729135040.png" alt="TIM20180729135040.png"></p>
<p>参数列表中的变量应该是它的地址（&amp;）</p>
<p><a href="http://www.cplusplus.com/reference/cstdio/scanf/" target="_blank" rel="noopener">详见 C++Reference</a></p>
<h1 id="STL-memset-小记"><a href="#STL-memset-小记" class="headerlink" title="STL memset 小记"></a>STL memset 小记</h1><h2 id="函数声明"><a href="#函数声明" class="headerlink" title="函数声明"></a>函数声明</h2><p><code>void * memset (void * ptr, int value, size_t num);</code></p>
<ul>
<li>强调，<code>value</code> 的类型虽然声明是 int，不过它只按 8 位赋值到数组中（unsigned char）.</li>
</ul>
<h2 id="无穷大"><a href="#无穷大" class="headerlink" title="无穷大 "></a>无穷大 <!--more--></h2><p>memset 最常用于初始化：<br>    memset(a,0,sizeof(a));</p>
<p>不过 memset 只是 8 位一组地赋值，如何赋值无穷大呢？</p>
<ul>
<li>赋值 0x3f，二进制表示为 00111111，int 每 8 位赋值后的数是 1,061,109,567, 与 2^31-1 是同一个数量级，并且相加后也不会溢出。</li>
<li>赋值 0x7f，二进制表示为 01111111，int 赋值后为 2,139,062,143，与 2^31-1 同级。</li>
</ul>
<h2 id="无穷小"><a href="#无穷小" class="headerlink" title="无穷小"></a>无穷小</h2><ul>
<li>赋值 0xc0，二进制表示为 11000000，int 赋值为 -1061109568，同级，可加</li>
<li>赋值 0x80，二进制表示为 10000000，int 赋值后为 -2139062144，同级。</li>
</ul>
<h1 id="C-程序对拍"><a href="#C-程序对拍" class="headerlink" title="C++ 程序对拍"></a>C++ 程序对拍</h1><h2 id="前置技能"><a href="#前置技能" class="headerlink" title="前置技能"></a>前置技能</h2><ul>
<li>API 函数 <code>system()</code>，包含于头文件 <code>&lt;cstdlib&gt;</code></li>
<li>CMD 中的 <code>fc</code> 命令或 shell 中的 <code>diff</code></li>
<li>管道 IO（即 <code>&lt;</code> 和 <code>&gt;</code> 操作符）</li>
</ul>
<!--more-->
<h2 id="对拍模板"><a href="#对拍模板" class="headerlink" title="对拍模板"></a>对拍模板</h2><pre class=" language-lang-cpp"><code class="language-lang-cpp"><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;cstdio&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;ctime&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;cstdlib&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"g++ cake_gen.cpp -o .gen"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"g++ cake2.cpp -o .vio"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"g++ cake3.cpp -o .my"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> t<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">++</span>t<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"./.gen&gt; .in"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 生成数据</span>
        <span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"./.vio &lt; .in&gt; .ansout"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">double</span> s<span class="token operator">=</span><span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//ms 为单位</span>
        <span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"./.my &lt; .in&gt;.outout"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">double</span> e<span class="token operator">=</span><span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"diff .outout .ansout"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token operator">-</span>s<span class="token operator">&gt;</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"TLE #%d %lf\n"</span><span class="token punctuation">,</span>t<span class="token punctuation">,</span>e<span class="token operator">-</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"AC #%d %lf\n"</span><span class="token punctuation">,</span>t<span class="token punctuation">,</span>e<span class="token operator">-</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"WA #%d"</span><span class="token punctuation">,</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>注：产生的以英文句点开头的文件在 linux 下是隐藏的</p>
<h1 id="C-随机数据生成"><a href="#C-随机数据生成" class="headerlink" title="C++ 随机数据生成"></a>C++ 随机数据生成</h1><h2 id="前置技能-1"><a href="#前置技能-1" class="headerlink" title="前置技能"></a>前置技能</h2><ul>
<li><code>&lt;cstdilb&gt;</code>: <code>rand()</code> <code>srand()</code>.</li>
<li><code>&lt;ctime&gt;</code>:<code>time()</code><!--more--></li>
<li><code>&lt;cstdio&gt;</code> | <code>&lt;iostream&gt;</code> : 用于标准输出</li>
<li>shell 管道命令（对拍用）</li>
</ul>
<h2 id="重置随机数种子"><a href="#重置随机数种子" class="headerlink" title="重置随机数种子"></a>重置随机数种子</h2><ul>
<li><code>rand()</code> 作为一个伪随机函数，需用 <code>srand()</code> 重置种子来使得每组数据不同</li>
<li>一般用系统时间作种子（<code>time(0)</code>）<pre class=" language-lang-cpp"><code class="language-lang-cpp"><span class="token function">srand</span><span class="token punctuation">(</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">233</span><span class="token operator">+</span><span class="token number">17</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</li>
</ul>
<h2 id="随机数取模"><a href="#随机数取模" class="headerlink" title="随机数取模"></a>随机数取模</h2><ul>
<li>限制随机数范围</li>
<li>以后直接用 <code>r(p)</code> 而不是 <code>rand()%p</code><pre class=" language-lang-cpp"><code class="language-lang-cpp"><span class="token keyword">int</span> <span class="token function">r</span><span class="token punctuation">(</span><span class="token keyword">int</span> p<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">long</span> <span class="token keyword">long</span><span class="token punctuation">)</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">%</span>p<span class="token punctuation">;</span><span class="token punctuation">}</span>
</code></pre>
</li>
</ul>
<h2 id="随机生成一颗树"><a href="#随机生成一颗树" class="headerlink" title="随机生成一颗树"></a>随机生成一颗树</h2><pre class=" language-lang-cpp"><code class="language-lang-cpp"><span class="token keyword">void</span> <span class="token function">random_tree</span><span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//vetrix,root=1</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d %d\n"</span><span class="token punctuation">,</span>v<span class="token punctuation">,</span>v<span class="token number">-1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//vetrix,edge</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>v<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d %d\n"</span><span class="token punctuation">,</span><span class="token function">r</span><span class="token punctuation">(</span>i<span class="token number">-1</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="随机生成无向连通图"><a href="#随机生成无向连通图" class="headerlink" title="随机生成无向连通图"></a>随机生成无向连通图</h2><pre class=" language-lang-cpp"><code class="language-lang-cpp"><span class="token keyword">void</span> <span class="token function">random_graph</span><span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token punctuation">,</span><span class="token keyword">int</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">// 无向图，保证连通</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d %d\n"</span><span class="token punctuation">,</span>v<span class="token punctuation">,</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//vetrix,edge</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>v<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d %d\n"</span><span class="token punctuation">,</span><span class="token function">r</span><span class="token punctuation">(</span>i<span class="token number">-1</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 先生成一颗树</span>
    e<span class="token operator">-</span><span class="token operator">=</span>v<span class="token number">-1</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>e<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d %d\n"</span><span class="token punctuation">,</span><span class="token function">r</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token function">r</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 生成其余的边</span>
<span class="token punctuation">}</span>
</code></pre>

            </div>
            <hr>

            

            <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    <div class="social-share" data-disabled="qzone" data-wechat-qrcode-helper="<p>微信里点“发现”->“扫一扫”二维码便可查看分享。</p>"></div>
    
</div>

<script src="/libs/share/js/social-share.min.js"></script>

            <div class="reprint">
                <p>
                    <span class="reprint-tip">
                        <i class="fa fa-exclamation-circle"></i>&nbsp;&nbsp;转载请注明:
                    </span>
                    <a href="https://sshwy.tk" class="b-link-green">Sshwy's Blog</a>
                    <i class="fa fa-angle-right fa-lg fa-fw text-color"></i>
                    <a href="/2018/10/19925/" class="b-link-green">C++ 那些事</a>
                </p>
            </div>
        </div>
    </div>

    

    

    

    

    
        <style>
    .valine-card {
        margin: 1.5rem auto;
    }
    .valine-card .card-content {
        padding: 20px 20px 5px 20px;
    }
    #vcomments input[type=text],
    #vcomments input[type=email],
    #vcomments input[type=url],
    #vcomments textarea {
        box-sizing: border-box;
    }
    #vcomments p {
        margin: 2px 2px 10px;
        font-size: 1.05rem;
        line-height: 1.78rem;
    }
    #vcomments blockquote p {
        text-indent: 0.2rem;
    }
    #vcomments a {
        padding: 0 2px;
        color: #42b983;
        font-weight: 500;
        text-decoration: underline;
    }
    #vcomments img {
        max-width: 100%;
        height: auto;
        cursor: pointer;
    }

    #vcomments ol li {
        list-style-type: decimal;
    }
    #vcomments ol,
    ul {
        display: block;
        padding-left: 2em;
        word-spacing: 0.05rem;
    }
    #vcomments ul li,
    ol li {
        display: list-item;
        line-height: 1.8rem;
        font-size: 1rem;
    }
    #vcomments ul li {
        list-style-type: disc;
    }
    #vcomments ul ul li {
        list-style-type: circle;
    }
    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }
    #vcomments table, th, td {
        border: 0;
    }
    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }
    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }
    #vcomments table td {
        min-width: 80px;
    }
    #vcomments h1 {
        font-size: 1.85rem;
        font-weight: bold;
        line-height: 2.2rem;
    }
    #vcomments h2 {
        font-size: 1.65rem;
        font-weight: bold;
        line-height: 1.9rem;
    }
    #vcomments h3 {
        font-size: 1.45rem;
        font-weight: bold;
        line-height: 1.7rem;
    }
    #vcomments h4 {
        font-size: 1.25rem;
        font-weight: bold;
        line-height: 1.5rem;
    }
    #vcomments h5 {
        font-size: 1.1rem;
        font-weight: bold;
        line-height: 1.4rem;
    }
    #vcomments h6 {
        font-size: 1rem;
        line-height: 1.3rem;
    }
    #vcomments p {
        font-size: 1rem;
        line-height: 1.5rem;
    }
    #vcomments hr {
        margin: 12px 0;
        border: 0;
        border-top: 1px solid #ccc;
    }
    #vcomments blockquote {
        margin: 15px 0;
        border-left: 5px solid #42b983;
        padding: 1rem 0.8rem 0.3rem 0.8rem;
        color: #666;
        background-color: rgba(66, 185, 131, .1);
    }
    #vcomments pre {
        font-family: monospace, monospace;
        padding: 1.2em;
        margin: .5em 0;
        background: #272822;
        overflow: auto;
        border-radius: 0.3em;
        tab-size: 4;
    }
    #vcomments code {
        font-family: monospace, monospace;
        padding: 1px 3px;
        font-size: 0.92rem;
        color: #e96900;
        background-color: #f8f8f8;
        border-radius: 2px;
    }
    #vcomments pre code {
        font-family: monospace, monospace;
        padding: 0;
        color: #e8eaf6;
        background-color: #272822;
    }
    #vcomments pre[class*="language-"] {
        padding: 1.2em;
        margin: .5em 0;
    }
    #vcomments code[class*="language-"],
    pre[class*="language-"] {
        color: #e8eaf6;
    }
    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }
    #vcomments b,
    strong {
        font-weight: bold;
    }
    #vcomments dfn {
        font-style: italic;
    }
    #vcomments small {
        font-size: 85%;
    }
    #vcomments cite {
        font-style: normal;
    }
    #vcomments mark {
        background-color: #fcf8e3;
        padding: .2em;
    }
    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }
    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }
    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }
    #vcomments table td {
        min-width: 80px;
    }
    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }
</style>

<div class="card valine-card" data-aos="fade-up">
    <div id="vcomments" class="card-content"></div>
</div>

<script src="/libs/valine/av-min.js"></script>
<script src="/libs/valine/Valine.min.js"></script>
<script>
    new Valine({
        el: '#vcomments',
        appId: '6J18y6MnypkdE9NTJLAyBytY-MdYXbMMI',
        appKey: 'PwP1bMVSCd423mdrEbOEmf46',
        notify: 'true' === 'true',
        verify: 'false' === 'true',
        visitor: 'false' === 'true',
        avatar: 'mm',
        pageSize: '10',
        lang: 'zh-cn',
        placeholder: 'Siyuan小姐姐/ZZH女装&amp;大佬AKIOI'
    });
</script>

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6 overflow-policy" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fa fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2018/10/14532/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/16.jpg" class="responsive-img" alt="[LuoguP1156] 垃圾陷阱">
                        
                        <span class="card-title">[LuoguP1156] 垃圾陷阱</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">一道很恶心的背包 DP
需要考虑很玄学的的细节
总之，要精心判断是否能转移，再转移 
结合刷表法和填表法
详细的看 Luogu 题解去吧
#include&lt;bits/stdc++.h&gt;
using namespace std;
con</div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="fa fa-clock-o fa-fw icon-date"></i>2018.10.01
                        </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/动态规划/" class="post-category" target="_blank">
                                    动态规划
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6 overflow-policy" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fa fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2018/10/29858/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/21.jpg" class="responsive-img" alt="AC 自动机 ·Automaton">
                        
                        <span class="card-title">AC 自动机 ·Automaton</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">摘要
 之前洛谷日报上发了一篇《强势图解 AC 自动机》，现在复习一下，重新整理思路
2019.6.16：编入精选文章

前言声明：代码部分的字符串都以 1 为起点
另外，有小伙伴问我 GIF 图片是怎么生成的。在此我以个人名誉担保——
这</div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="fa fa-clock-o fa-fw icon-date"></i>2018.10.01
                            </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/字符串/" class="post-category" target="_blank">
                                    字符串
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/模板/" target="_blank">
                        <span class="chip bg-color">模板</span>
                    </a>
                    
                    <a href="/tags/专题/" target="_blank">
                        <span class="chip bg-color">专题</span>
                    </a>
                    
                    <a href="/tags/精选/" target="_blank">
                        <span class="chip bg-color">精选</span>
                    </a>
                    
                    <a href="/tags/字符串/" target="_blank">
                        <span class="chip bg-color">字符串</span>
                    </a>
                    
                    <a href="/tags/KMP/" target="_blank">
                        <span class="chip bg-color">KMP</span>
                    </a>
                    
                    <a href="/tags/AC-自动机/" target="_blank">
                        <span class="chip bg-color">AC 自动机</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>
</div>



    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="fa fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fa fa-list"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            // headingsOffset: -205,
            headingSelector: 'h1, h2, h3, h4, h5, h6'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h1, h2, h3, h4, h5, h6').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        rml9 = function (){$mainContent.removeClass('l9');}
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
            	$tocAside.removeClass(expandedClass).slideUp(0,rml9);
            } else {
                $tocAside.addClass(expandedClass).slideDown();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>



<footer class="page-footer bg-color">
    <div class="container row center-align">
        <div class="col s12 m8 l8 copy-right">
            本站由©<a href="https://sshwy.tk/" target="_blank">Sshwy</a>基于
            <a href="https://hexo.io/" target="_blank">Hexo</a> 的
            <a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">hexo-theme-matery</a>主题搭建.

            

            
			
        </div>
        <div class="col s12 m4 l4 social-link ">
            


    <a href="mailto:jy.cat@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fa fa-envelope-open"></i>
    </a>



    <a href="tencent://AddContact/?fromId=50&amp;fromSubId=1&amp;subcmd=all&amp;uin=1272918035" class="tooltipped" data-tooltip="QQ联系我: 1272918035" data-position="top" data-delay="50">
        <i class="fa fa-qq"></i>
    </a>




        </div>
    </div>
</footer>

<div class="progress-bar"></div>


<!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fa fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字" class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/" + "search.xml", 'searchInput', 'searchResult');
});
</script>

<!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fa fa-angle-up"></i>
    </a>
</div>


<script src="/libs/materialize/materialize.min.js"></script>
<script src="/libs/masonry/masonry.pkgd.min.js"></script>
<script src="/libs/aos/aos.js"></script>
<script src="/libs/scrollprogress/scrollProgress.min.js"></script>
<script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
<script src="/js/matery.js"></script>
<script src="/js/crypt.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->

<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-146805234-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', 'UA-146805234-1');
</script>







</body></html>