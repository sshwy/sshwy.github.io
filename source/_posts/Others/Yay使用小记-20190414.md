title: Yay使用小记
mathjax: true
categories:
  - Others
abbrlink: 24636
tags: []
date: 2019-04-14 03:03:00
updated: 2019-04-14 03:03:04
keywords:
---


**摘要**

Yay——Yet another Yogurt.

Yaourt 已死！


<!--more-->

# 概述

作者入坑linux以来，从最开始的Ubuntu，到国产的Deepin，到现在的Manjaro Deepin，在linux上也是折腾了很久。

Ubuntu和Deepin都用的是apt软件源，我们不去一味地批评它，我们只是说，相比Arch的AUR源以及社区源，apt是远不及那么丰富的。

基于Arch Linux的系统使用pacman管理软件包，而pacman本身不支持AUR源，也就衍生了一系列的AUR源助手。这所谓的助手其实就是对pacman命令的封装，使得在包含了pacman的功能的同时，增加对AUR源的支持。有了这个助手后，Arch Linux系列系统的软件源的确变得首屈一指得强大。Manjaro就是基于Arch的发行版，自然也自带这样丰富的软件源。

一直以来，最流行的AUR源助手是yaourt。不过随着yaourt停止开发的消息传来，yaourt也逐渐失去了它的价值。毕竟linux社区的软件更新换代的速度是很快的，一旦停止开发，那么不到一两年，随着其依赖包等等关联软件的更新，逐渐不再支持这个助手。这也就是本文介绍yay的目的。

~~Yaourt已死，Yay当立~~

# 替代品

当然，不仅仅Yay可以作为Yaourt的替代品，诸如aurman的软件同样可以替代Yaourt。其中每个软件各有特色，不过，笔者选择Yay的主要原因是：

1. 命令短，容易输入
2. Yay开发团队的宗旨是，最小化用户的命令输入，模仿Yaourt的搜索界面
3. 最小化依赖包的数量

这样的AUR助手对于笔者而言更熟悉，容易从yaourt切换过来。

# 安装

按照github官网的命令：

```bash
git clone https://aur.archlinux.org/yay.git
cd yay
makepkg -si
```

然后就可以使用了

# AUR国内源

笔者在写这篇文章的时候，网上的资料并不多。毕竟选择Arch的用户较少，而选择Yay的用户更少。Yay默认使用法国的aur.archlinux.org作为AUR源，这样的速度显然不是我们可以接受的，因此我们需要切换为国内的tuna源

Yay在安装好以后是默认不生成配置文件的。这就难以去更改默认源。笔者搜罗GIthub上的issue，根据 [#697](https://github.com/Jguer/yay/issues/697) Issue，运行以下命令更新软件源和系统，顺便创建配置文件

```bash
yay -Syu --devel --combinedupgrade --save
```

然后编辑`.config/yay/config.json`文件，就可以看到熟悉的aururl参数啦，那么把它替换为`https://aur.tuna.tsinghua.edu.cn`即可