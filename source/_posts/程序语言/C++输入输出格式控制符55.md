---
title: C++输入输出格式控制符
categories:
  - 程序语言
mathjax: true
abbrlink: 58498
date: 2018-10-01 20:22:00
updated: 2018-10-01 20:22:00
---
# C++输入输出格式控制符
## printf
`% [flags] [width] [.precision] [length] specifier`

### 起始字符`%`<!--more-->
表示格式控制的开始

### 类型控制`specifier`
`specifier`控制输出对象的类型.
**常用：**
- **`d`|整型**
- **`f`|浮点数**
- **`s`|字符串**
- **`%`| 输出一个`%`.**

不常用：
- `o`|八进制整数
- `x`|十六进制整数
- `e`|科学计数法输出
- `g`|浮点数宽度最短输出
- `p`|指针地址
- `n`|无输出，它会将目前输出的字符数量存储到参数列表中对应的变量中（类型为**signed int* **）

### 前置标记`[flag]`
- `-`|在域宽中左对齐。没有的话默认右对齐。
- `+`|强制在数字前加符号（包括正数）
- `0`|在域宽中剩余部分补0，没有的话默认补空格。

### 域宽`[width]`
- `(number)`|指定最小域宽，如果宽度不足指定数，则补齐，如果超过指定数，照常输出。
- `*`|不定域宽，须在参数列表中指定对应的整型变量。

### 精度控制`[.precision]`
- `.number`|指定精度
  - `d` `x` `o`|指定最小长度，不足的补前导0；超过的照常输出
  - `f` `lf` `Lf`|控制小数位数
  - `s`|控制字符串输出的最大字符数
  - 如果指定的句点没有显式的精度值，则假定为0
- `.*`|不定精度，须在参数列表中指定对应的整型变量。用法同上。

### 长度`[length]`
指定数据类型的长度
![TIM20180729121830.png](https://www.z4a.net/images/2018/07/29/TIM20180729121830.png)
### 典例
`%.5lf`|对象类型为double,且输出五位小数
`%-+5.4d`|左对齐，加符号，域宽为5，数字部分长度为4（补前导0），整型。
`%s%n`|输出字符串，`%n`将返回已输出的字符数，这里指字符串长度。

[详见C++Reference](http://www.cplusplus.com/reference/cstdio/printf/#compatibility)

## scanf
`%[*][width][length]specifier`

- 空白字符：该函数将读取并忽略在下一个非空白字符之前遇到的任何空白字符（空白字符包括空格，换行符和制表符）。格式字符串中的单个空格验证从流中提取的任何数量的空白字符（包括无）。 
- 非空白字符，格式说明符（％）除外：任何不是空格字符（空格，换行符或制表符）或格式说明符的一部分的字符都会导致该函数读取下一个字符从流中，将其与此非空白字符进行比较，如果匹配，则将其丢弃，并且函数将继续使用格式的下一个字符。如果字符不匹配，则函数失败，返回并保留流的后续字符未读。 
- 格式说明符：由初始百分号（％）组成的序列表示格式说明符，用于指定要从流中检索并存储到其他参数指向的位置的数据的类型和格式。

### 类型控制`specifier`
`specifier`控制输出对象的类型.
**常用：**
- **`d`|整型**
- **`f`|浮点数**
- **`s`|字符串**
- **`%`|匹配一个`%`.**

不常用：
- `i`|任意整型（8，10，16进制）
- `o`|八进制整数
- `x`|十六进制整数
- `p`|指针地址
- `n`|无输入，它会将目前输入的字符数量存储到参数列表中对应的变量中（类型为**signed int* **）
- `[characters]`|括号之间指定的任意数量的字符（对于`[` `]` `-`的字符应紧挨在左括号后面）
- `[^characters]`|**非**括号之间指定的任意数量的字符（对于`[` `]` `-`的字符应紧挨在`^`后面）

### 忽略读取`[*]`
将格式字符串所读取到的东西舍去（不用匹配参数列表）

### 域宽`[width]`
读取的最大宽度。

### 长度`[length]`
指定数据类型的长度。
![TIM20180729135040.png](https://www.z4a.net/images/2018/07/29/TIM20180729135040.png)

参数列表中的变量应该是它的地址（&）


[详见C++Reference](http://www.cplusplus.com/reference/cstdio/scanf/)