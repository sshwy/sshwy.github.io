---
title: C++随机数据生成
categories:
  - 程序语言
mathjax: true
abbrlink: 43822
date: 2018-10-01 20:22:00
updated: 2018-10-01 20:22:00
---
# C++随机数据生成

## 前置技能
- `<cstdilb>`: `rand()` `srand()`.
- `<ctime>`:`time()`<!--more-->
- `<cstdio>` | `<iostream>` :用于标准输出
- shell管道命令（对拍用）

## 重置随机数种子
- `rand()`作为一个伪随机函数，需用`srand()`重置种子来使得每组数据不同
- 一般用系统时间作种子（`time(0)`）
```cpp
srand(time(0)*233+17);
```

## 随机数取模
- 限制随机数范围
- 以后直接用`r(p)`而不是`rand()%p`
```cpp
int r(int p){return (long long)rand()*rand()%p;}
```

## 随机生成一颗树
```cpp
void random_tree(int v){//vetrix,root=1
	printf("%d %d\n",v,v-1);//vetrix,edge
	for(int i=2;i<=v;i++)printf("%d %d\n",r(i-1)+1,i);
}
```

## 随机生成无向联通图
```cpp
void random_graph(int v,int e){//无向图，保证联通
	printf("%d %d\n",v,e);//vetrix,edge
	for(int i=2;i<=v;i++)printf("%d %d\n",r(i-1)+1,i);//先生成一颗树
	e-=v-1;
	for(int i=1;i<=e;i++)printf("%d %d\n",r(v)+1,r(v)+1);//生成其余的边
}
```