---
title: DP小汇
categories:
  - 动态规划
tags:
 - ZROI
 - DP
mathjax: true
abbrlink: 17103
date: 2018-10-05 11:28:01
updated: 2018-10-05 11:28:01
---
# SRM 679 FiringEmployees
> 有一个 n 个点的树,每个点有点权(点权可能为负),求包含点 1 的最大权连通子图(的权值和)。$n\leq 2500$

入门树形DP，$f[i]$ 表示以i为根的子树 $subtree(i)$ 中包含节点 $i$ 的最大权联通子图。

$f[i]=w_i+\sum_{j\in son(i)}max(f[j],0)$.

# SRM 602 TypoCoderDiv1
> - 某人是一个乐于炸鱼的 OI 选手,有一天他觉得自己的炸鱼水平还不够高超,决定去算一个更优的炸鱼方案。
> - 假设某网站的 rating 系统是一个按固定 rating 分级的系统,即 rating 大于 L 时是 div1 ,否则为 div2。某人一天打了 n 场比赛,第 i 场的 rating 变化量为 $D_i$ ,即假设打之前的 rating 为 x ,赢了这场 rating 变为 $x + D_i$ ,输了这场 rating 变为 $max(x−D_i,0)$ (以某人的实力当然是想赢就赢想输就输了)
> - 由于某人的目的是炸鱼,所以**当他打上 div1 以后他需要在下一场比赛立刻跌到div2** (如果这场比赛不是最后一场的话)。为了表演高超的炸鱼技巧,某人想最大化他在组别间横跳的次数。求最大的横跳次数。
> - $n\leq 50,L\leq 3000,D_i\leq 10^9$

定义 $f[i,j]$ 表示第i场比赛，rating 为j时最大横跳次数。

刷表法，通过判断第i场比赛是否上线来转移：
- 赢了不上线，则转移到下一场比赛： $f[i-1,max(j-D_{i+1},0)]$ 和 $f[i+1,j+D_{i+1}]$
- 赢了上线，则转移到 $f[i-1,max(j-D_{i+1},0)]$ 和 $f[i+2,j+D_{i+1}-D_{i+2}]$ （如果第二次能下线就转移，否则只转移第一个）

# SRM 698 RepeatString
> 又有坏掉的复读机破坏了队形,现在复读机群员们要把这个队形修复。现在有一个字符串 $s$ ,你可以进行三种操作:
- 在任意一个位置插入任意字符
- 删除任意一个字符
- 修改任意一个位置的字符

> 求最少的操作次数把 s 重新修改成 aa 的形式(即一个字符串 a 重复两次)。 $|s| ≤ 100$

考虑将字符串分段匹配，枚举最终 $aa$ 之间的断点， $f[i,j]$ 表示将 $s[1,i]$ 与 $s[i+1,j]$ 编辑成相同字符串的最小代价
$$
f[i,j]=min
\left\{\begin{matrix}
f[i-1,j-1]+1,s_i=s_j \\
min(f[i,j-1],f[i-1,j])+1,s_i\neq s_j
\end{matrix}\right.
$$

