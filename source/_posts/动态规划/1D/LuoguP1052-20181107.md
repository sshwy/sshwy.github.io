---
title: '[NOIP2005] 过河'
categories:
  - 动态规划
mathjax: true
abbrlink: 29897
date: 2018-11-07 16:39:25
updated: 2018-11-07 16:39:25
tags:
---

考虑 $1\leq S,T\leq 10$

$\forall S,T,\exists S,T|LCM(1,2,\cdots,10)=2520$

因此对于两相邻点之间的距离可以对 $2520$ 取模离散化

然后正常 DP 即可
$$
f[i]=\min_{j=i-t}^{i-s}\{f[j]\}+[stone[i]=1]
$$
复杂度 $O(2520m(T-S))$.

```cpp
#include<cstdio>
#include<algorithm>
#define FOR(a,b,c) for(int a=b;a<=c;a++)
using namespace std;
int l,s,t,m,ans;
int a[101],d[101],f[300000];
int main(){scanf("%d%d%d%d",&l,&s,&t,&m);
	FOR(i,1,m)scanf("%d",&a[i]);
	sort(a+1,a+m+1);
	FOR(i,1,m)d[i]=a[i]-a[i-1],a[i]=a[i-1]+d[i]%2520,f[a[i]]=1;
	l=a[m]+t;
	FOR(i,1,l){
		int mn=m;	
		for(int j=s;j<=t&&j<=i;j++)mn=min(mn,f[i-j]);
		f[i]+=mn;
	}
	ans=m;
	FOR(i,l-t,l-1)ans=min(ans,f[i]);
	printf("%d",ans);
	return 0;
}
```

