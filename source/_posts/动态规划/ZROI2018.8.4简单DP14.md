---
title: ZROI2018.8.4简单DP
categories:
  - 动态规划
mathjax: true
abbrlink: 30231
date: 2018-10-01 20:22:00
updated: 2018-10-01 20:22:00
---
# ZROI2018.8.4简单DP

## P1
f[i,j]表示前i个电线杆，其中第i个电线杆高度为j时的最小代价。
`f[i,j]=min{f[i-1,k]+|j-k|*C+(j-h[i])^2} .(k>=h[i-1]&&j>=h[i])`.<!--more-->
时间复杂度O(nC^2).

### 分离优化
- `f[i,j]=(j-h[i])^2+j*C+min{f[i-1,k]-k*C}` (j>=k)
`f[i,j]=(j-h[i])^2-j*C+min{f[i-1,k]+k*C}` (j<k)
- 前半部分O(1)计算，后半部分可**预处理**前后缀的min，做到O(1)查询。
- 时间复杂度O(nC).
- 当转移方程中的项能拆开，且被分离部分的值不受最优解内变量的影响时，考虑分离优化。
- 当动态转移时决策重复且为线性时，考虑前缀和或单调队列。

## P2
f[i,j,k]表示前i个牌子，j单位钱，同时第i个牌子是否被选至少一个物品。
- `f[i,j,0]=f[i-1,j,1]`  至少买一件，所以不考虑f[i-1,j,0]
- `f[i,j,1]=max{f[i,j-w[ni],0/1]+c[ni]}`  ni表示牌子i的物品

## 状压DP
[post cid="46" /]

## P3
f[i,j]表示走到结点i，状态为j时的方案数。j表示哪些点走过。
边数较多，可能重边。考虑记录重边数量，用乘法原理优化。

## P4-Gym 101343J
- 预处理被包含的情况。
- 预处理后，每两个字符串的重叠一定是前后缀重叠，只用考虑当前字符串
- 与上题类似，f[i,j]表示用了i个字符串，状态为j时的长度。j表示用了哪些字符串。

## P5
- 模型同上，复杂度O(2^n * n^2)
- 因为对于状态的转移没有特殊限制，所以不用枚举i，直接通过j算出前缀和与数量，进行转移。
- 计算前缀和与数量时，使用lowbit；考虑状态的转移时，取反lowbit；两者复杂度和为O(n)，加上有2^n种状态，复杂度O(n * 2^n).

## P6
- 分解质因数，保存二进制
- 二进制的异或和为0，即为完全平方数
- 因为值域为(0，70)，所以用值域表示第一维。j表示各值域的使用状态。
- f[i,j]=f[i-1,k]+2^(m-1) //m表示第i值域的出现次数

+corn field - c1
gym 101343J - c3
Axis Walking - c4
square subsets - c5
simple task - c6
