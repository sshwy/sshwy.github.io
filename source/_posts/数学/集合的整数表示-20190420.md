---
title: 集合的整数表示
mathjax: true
abbrlink: 41004
categories:
  - 数学
date: 2019-04-20 13:03:46
updated: 2019-04-20 13:03:46
tags:
keywords:
---


**摘要**

整理一些集合的小操作


<!--more-->

对于大小为 $N$ 的集合，要求我们表示该集合的任意子集，借助于整数的二进制表示，可以按以下方式编码为整数
$$
f(s)=\sum_{i\in s}2^i
$$

# 位运算

借助位运算来进行集合的运算。一系列例子：

| 意义                    | 表示                |
| ----------------------- | ------------------- |
| 空集 $\phi$             | 0                   |
| 只有第 i 个元素的集合     | $1<<(i-1)$          |
| 含有 $1\sim n$ 元素的集合 | $(1<<n)-1$          |
| 第 i 个元素是否选择       | $[s>>(i-1)]\&1$     |
| 添加第 i 个元素           | $s                  |
| 删除第 i 个元素           | $s\&\sim[1<<(i-1)]$ |
| 集合的并集              | $s                  |
| 集合的交集              | $s\&t$              |

# 子集枚举

直接循环即可

```
FOR i from 0 to (1<<n)-1 :
	do something
```

# 子子集枚举

对于全集 U 的一个子集 S，如何枚举 S 的子集（相当于 S 是一个二进制数）。我们倒着循环，每次与 $S$ 做与运算消除非 S 集合元素的影响：

```
int i=s
do :
	do something
	i=(i-1)&s
while(i!=s)
```

可以理解为，每次转移的时候，i 的最低位 1 变成 0，而这个 1 后面的 0 全部变成 1。然后取了与 s 的交集，使得只有子集内的位变换。